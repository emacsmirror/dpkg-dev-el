«x:# A normal watch file should not have multiple entries but the»
«x:# rfc822-style highlighting is mostly stateless so we abuse it a»
«x:# little for the faceup test.»

«x:# The examples are from debian-watch(5).»

«x:# HTTP site (basic)»
«k:Version:» 5

«k:Source:» http://example.com/~user/release/«v:@PACKAGE@».html
«k:Matching-Pattern:» files/«v:@PACKAGE@@ANY_VERSION@@ARCHIVE_EXT@»

«x:#»
«k:Version:» 5

«k:Source:» «c:http://example.com/~user/release/foo.html»
«k:Matching-Pattern:» files/foo-([\d\.]+)\.tar\.gz


«x:# HTTP site (Pgp-Sig-Url-Mangle)»
«k:Version:» 5

«k:Source:» http://example.com/release/«v:@PACKAGE@».html
«k:Matching-Pattern:» files/«v:@PACKAGE@@ANY_VERSION@@ARCHIVE_EXT@»
«k:Pgp-Sig-Url-Mangle:» s%$%.asc%

«x:#»
«k:Version:» 5

«k:Source:» http://example.com/release/«v:@PACKAGE@».html
«k:Matching-Pattern:» files/«v:@PACKAGE@@ANY_VERSION@@ARCHIVE_EXT@»
«k:Pgp-Sig-Url-Mangle:» s%«v:@ARCHIVE_EXT@»$%.asc%
«k:Decompress:» «t:yes»


«x:# HTTP site (Pgp-Mode: next/previous)»
«k:Version:» 5

«k:Source:» http://example.com/release/«v:@PACKAGE@».html
«k:Matching-Pattern:» files/(?:\d+)/«v:@PACKAGE@@ANY_VERSION@@ARCHIVE_EXT@»
«k:Pgp-Mode:» «t:next»

«k:Source:» http://example.com/release/«v:@PACKAGE@».html
«k:Matching-Pattern:» .*?files/(?:\d+)/«v:@PACKAGE@@ANY_VERSION@@SIGNATURE_EXT@»
«k:Pgp-Mode:» «t:previous»
«k:Version-Schema:» «t:previous»


«x:# HTTP site (flexible)»
«k:Version:» 5

«k:Source:» «c:http://example.com/DL/»
«k:Matching-Pattern:» files/(?:\d+)/«v:@PACKAGE@@ANY_VERSION@@ARCHIVE_EXT@»
«k:Pgp-Mode:» «t:next»

«k:Source:» «c:http://example.com/DL/»
«k:Matching-Pattern:» files/(?:\d+)/«v:@PACKAGE@@ANY_VERSION@@SIGNATURE_EXT@»
«k:Pgp-Mode:» «t:previous»
«k:Version-Schema:» «t:previous»


«x:# HTTP site (basic MUT)»
«k:Version:» 5

«k:Source:» «c:http://example.com/release/foo.html»
«k:Matching-Pattern:» files/foo-«v:@ANY_VERSION@@ARCHIVE_EXT@»
«k:Pgp-Sig-Url-Mangle:» s%$%.sig%

«k:Component:» bar
«k:Source:» «c:http://example.com/release/foo.html»
«k:Matching-Pattern:» files/foobar-«v:@ANY_VERSION@@ARCHIVE_EXT@»
«k:Pgp-Sig-Url-Mangle:» s%$%.sig%
«k:Version-Constraint:» «t:same»

«k:Component:» baz
«k:Source:» «c:http://example.com/release/foo.html»
«k:Matching-Pattern:» files/foobaz-«v:@ANY_VERSION@@ARCHIVE_EXT@»
«k:Pgp-Sig-Url-Mangle:» s%$%.sig%
«k:Version-Constraint:» «t:same»


«x:# HTTP site (recursive directory scanning)»
«k:Version:» 5

«k:Source:» http://tmrc.mit.edu/mirror/twisted/Twisted/«v:@ANY_VERSION@»/
«k:Matching-Pattern:» Twisted-«v:@ANY_VERSION@@ARCHIVE_EXT@»
«k:Dirversion-Mangle:» s/-PRE/~pre/;s/-RC/~rc/
«k:Pgp-Sig-Url-Mangle:» s%$%.sig%


«x:# HTTP site (alternative shorthand)»
«k:Version:» 5

«k:Source:» «c:http://www.cpan.org/modules/by-module/Text/»
«k:Matching-Pattern:» Text-CSV_XS-«v:@ANY_VERSION@@ARCHIVE_EXT@»
«k:Pgp-Sig-Url-Mangle:» s%$%.sig%

«x:#»
«k:Version:» 5

«k:Source:» «c:http://www.cpan.org/modules/by-module/Text/»
«k:Matching-Pattern:» Text-CSV_XS-«v:@ANY_VERSION@@ARCHIVE_EXT@»
«k:Pgp-Sig-Url-Mangle:» s%$%.sig%


«x:# HTTP site (funny version)»
«k:Version:» 5

«k:Source:» «c:http://www.site.com/pub/foobar/»
«k:Matching-Pattern:» foobar_v(\d+)_(\d+)«v:@ARCHIVE_EXT@»


«x:# HTTP site (DFSG)»
«k:Version:» 5

«k:Source:» «c:http://some.site.org/some/path/»
«k:Matching-Pattern:» foobar-«v:@ANY_VERSION@@ARCHIVE_EXT@»
«k:Dversion-Mangle:» s/\+dfsg\d*$//
«k:Repack-Suffix:» «t:+dfsg»


«x:# HTTP site (Filename-Mangle)»
«k:Version:» 5

«k:Source:» «c:http://foo.bar.org/dl/»
«k:Matching-Pattern:» \?path=&dl=foo-«v:@ANY_VERSION@@ARCHIVE_EXT@»
«k:Filename-Mangle:» s/.*=(.*)/$1/

«x:#»
«k:Version:» 5

«k:Source:» «c:http://foo.bar.org/dl/»
«k:Matching-Pattern:» \?path=&dl_version=«v:@ANY_VERSION@»
«k:Filename-Mangle:» s/.*=(.*)/foo-$1\.tar\.gz/

«x:#»
«k:Version:» 5

«k:Source:» http://foo.bar.org/dl/«v:@ANY_VERSION@»/
«k:Matching-Pattern:» foo.tar.gz
«k:Filename-Mangle:» s|.*/dl/(.*)/foo\.tar\.gz|foo-$1\.tar\.gz|


«x:# HTTP site (Download-Url-Mangle)»
«k:Version:» 5

«k:Source:» «c:http://developer.berlios.de/project/showfiles.php?group_id=2051»
«k:Matching-Pattern:» http://prdownload.berlios.de/softdevice/vdr-softdevice-«v:@ANY_VERSION@@ARCHIVE_EXT@»
«k:Download-Url-Mangle:» s/prdownload/download/


«x:# HTTP site (Oversion-Mangle, MUT)»
«k:Version:» 5

«k:Source:» «c:http://example.com/~user/release/foo.html»
«k:Matching-Pattern:» files/foo-«v:@ANY_VERSION@@ARCHIVE_EXT@»
«k:Oversion-Mangle:» s/(.*)/$1+dfsg/

«k:Component:» bar
«k:Source:» «c:http://example.com/~user/release/foo.html»
«k:Matching-Pattern:» files/bar-«v:@ANY_VERSION@@ARCHIVE_EXT@»
«k:Version-Constraint:» «t:same»


«x:# HTTP site (Page-Mangle)»
«k:Version:» 5

«k:Source:» href=/g"
«k:Matching-Pattern:» «c:http://example.com/release/foo.html»
«k:Page-Mangle:» "s/<a\s+bogus=/<a
«k:Version-Constraint:» files/«v:@PACKAGE@@ANY_VERSION@@ARCHIVE_EXT@»

«x:#»
«k:Version:» 5

«k:Source:» «c:http://example.com/release/foo.html»
«k:Matching-Pattern:» (?:.*)/«v:@PACKAGE@@ANY_VERSION@@ARCHIVE_EXT@»
«k:Page-Mangle:» s%<Key>([^<]*)</Key>%<Key><a href="$1">$1</a></Key>%g


«x:# FTP site (basic)»
«k:Version:» 5

«k:Source:» «c:ftp://ftp.tex.ac.uk/tex-archive/web/c_cpp/cweb/»
«k:Matching-Pattern:» cweb-«v:@ANY_VERSION@@ARCHIVE_EXT@»


«x:# FTP site (regex special characters)»
«k:Version:» 5

«k:Source:» «c:ftp://ftp.worldforge.org/pub/worldforge/libs/Atlas-C++/transitional/»
«k:Matching-Pattern:» Atlas-C\+\+-«v:@ANY_VERSION@@ARCHIVE_EXT@»


«x:# FTP site (funny version)»
«k:Version:» 5

«k:Source:» «c:ftp://ftp.ibiblio.org/pub/Linux/ALPHA/wine/development/»
«k:Matching-Pattern:» Wine-«v:@ANY_VERSION@@ARCHIVE_EXT@»
«k:Uversion-Mangle:» s/^/0.0./


«x:# sf.net»
«k:Version:» 5

«k:Source:» «c:https://sf.net/audacity/»
«k:Matching-Pattern:» audacity-minsrc-«v:@ANY_VERSION@@ARCHIVE_EXT@»

«x:#»
«k:Version:» 5

«k:Source:» http://sourceforge.net/projects/audacity/files/audacity/«v:@ANY_VERSION@»/
«k:Matching-Pattern:» (?:.*)audacity-minsrc-«v:@ANY_VERSION@@ARCHIVE_EXT@»/download
«k:Filename-Mangle:» s%(?:.*)audacity-minsrc-(.+)\.tar\.xz/download%audacity-$1.tar.xz%
«k:Uversion-Mangle:» s/-pre/~pre/


«x:# github.com»
«k:Version:» 5

«k:Template:» «t:Github»
«k:Owner:» <user>
«k:Project:» <project>

«x:#»
«k:Version:» 5

«k:Source:» «c:https://api.github.com/repos/<user>/<project>/git/matching-refs/tags/»
«k:Matching-Pattern:» https://api.github.com/repos/[^/]+/[^/]+/git/refs/tags/«v:@ANY_VERSION@»
«k:Download-Url-Mangle:» s%(api.github.com/repos/[^/]+/[^/]+)/git/refs/%$1/tarball/refs/%g
«k:Filename-Mangle:» s%.*/«v:@ANY_VERSION@»%«v:@PACKAGE@»-$1.tar.gz%
«k:Search-Mode:» «t:plain»

«x:#»
«k:Version:» 5

«k:Source:» «c:https://api.github.com/repos/<user>/<project>/git/matching-refs/tags/v1»
«k:Matching-Pattern:» https://api.github.com/repos/[^/]+/[^/]+/git/refs/tags/«v:@ANY_VERSION@»
«k:Download-Url-Mangle:» s%(api.github.com/repos/[^/]+/[^/]+)/git/refs/%$1/tarball/refs/%g
«k:Filename-Mangle:» s%.*/«v:@ANY_VERSION@»%«v:@PACKAGE@»-$1.tar.gz%
«k:Search-Mode:» «t:plain»

«x:#»
«k:Version:» 5

«k:Source:» «c:https://api.github.com/repos/<user>/<project>/git/matching-refs/tags/»
«k:Matching-Pattern:» https://api.github.com/repos/[^/]+/[^/]+/git/refs/tags/«v:@ANY_VERSION@»
«k:Download-Url-Mangle:» s%api.github.com/repos/([^/]+/[^/]+)/git/refs/tags/«v:@ANY_VERSION@»%github.com/$1/archive/refs/tags/$2.tar.gz%g
«k:Filename-Mangle:» s%.*/«v:@ANY_VERSION@»%«v:@PACKAGE@»-$1.tar.gz%
«k:Search-Mode:» «t:plain»

«x:#»
«k:Version:» 5

«k:Source:» «c:https://api.github.com/repos/<user>/<project>/releases?per_page=100»
«k:Matching-Pattern:» https://api.github.com/repos/<user>/<project>/tarball/«v:@ANY_VERSION@»
«k:Filename-Mangle:» s%.*/«v:@ANY_VERSION@»%«v:@PACKAGE@»-$1.tar.gz%
«k:Search-Mode:» «t:plain»

«x:#»
«k:Version:» 5

«k:Source:» «c:https://api.github.com/repos/ImageMagick/ImageMagick/git/matching-refs/tags/»
«k:Matching-Pattern:» https://api.github.com/repos/[^/]+/[^/]+/git/refs/tags/«v:@ANY_VERSION@»
«k:Download-Url-Mangle:» s%(api.github.com/repos/[^/]+/[^/]+)/git/refs/.*%$1/tarball/0123456789abcdf01234567890abcef012345678%g
«k:Filename-Mangle:» s%.*%1.2.3~git.tar.gz%
«k:Oversion-Mangle:» s/.*/1.2.3~git/g
«k:Search-Mode:» «t:plain»


«x:# Forgejo (Codeberg)»
«k:Version:» 5

«k:Source:» «c:https://codeberg.org/api/v1/repos/<user>/<project>/releases»
«k:Matching-Pattern:» https://codeberg.org/<user>/<project>/releases/download/[^/-_v]*«v:@ANY_VERSION@»/[^"]*«v:@ARCHIVE_EXT@»
«k:Search-Mode:» «t:plain»

«x:#»
«k:Version:» 5

«k:Source:» «c:https://codeberg.org/api/v1/repos/<user>/<project>/releases»
«k:Matching-Pattern:» https://codeberg.org/<user>/<project>/archive/[^"-_v]*«v:@ANY_VERSION@@ARCHIVE_EXT@»
«k:Search-Mode:» «t:plain»
«k:Filename-Mangle:» s%.*/[^"-_v]*«v:@ANY_VERSION@»%«v:@PACKAGE@»-$1%

«x:#»
«k:Version:» 5

«k:Source:» «c:https://codeberg.org/api/v1/repos/<user>/<project>/tags»
«k:Matching-Pattern:» https://codeberg.org/<user>/<project>/archive/[^"-_v]*«v:@ANY_VERSION@@ARCHIVE_EXT@»
«k:Search-Mode:» «t:plain»
«k:Filename-Mangle:» s%.*/[^"-_v]*«v:@ANY_VERSION@»%«v:@PACKAGE@»-$1%


«x:# PyPI»
«k:Version:» 5

«k:Source:» «c:https://pypi.python.org/packages/source/c/cfn-sphere/»
«k:Matching-Pattern:» cfn-sphere-«v:@ANY_VERSION@@ARCHIVE_EXT@»

«x:#»
«k:Version:» 5

«k:Source:» «c:https://pypi.python.org/pypi/cfn-sphere/»
«k:Matching-Pattern:» https://pypi.python.org/packages/.*/.*/.*/cfn-sphere-«v:@ANY_VERSION@@ARCHIVE_EXT@»#.*


«x:# npmjs.org (node example)»
«k:Version:» 5

«k:Template:» «t:Npmregistry»
«k:Dist:» @lemonldap/handler


«x:# Grouped package»
«k:Version:» 5
«k:Version-Schema:» «t:group»

«k:Source:» «c:https://registry.npmjs.org/mongodb»
«k:Matching-Pattern:» https://registry.npmjs.org/mongodb/-/mongodb-«v:@ANY_VERSION@@ARCHIVE_EXT@»
«k:Search-Mode:» «t:plain»

«k:Component:» bson
«k:Source:» «c:https://registry.npmjs.org/bson»
«k:Matching-Pattern:» https://registry.npmjs.org/bson/-/bson-«v:@ANY_VERSION@@ARCHIVE_EXT@»
«k:Search-Mode:» «t:plain»

«k:Component:» mongodb-core
«k:Source:» «c:https://registry.npmjs.org/mongodb-core»
«k:Matching-Pattern:» https://registry.npmjs.org/mongodb-core/-/mongodb-core-«v:@ANY_VERSION@@ARCHIVE_EXT@»
«k:Search-Mode:» «t:plain»

«k:Component:» requireoptional
«k:Source:» «c:https://registry.npmjs.org/require_optional»
«k:Matching-Pattern:» https://registry.npmjs.org/require_optional/-/require_optional-«v:@ANY_VERSION@@ARCHIVE_EXT@»
«k:Search-Mode:» «t:plain»

«x:#»
«k:Version:» 5
«k:Version-Schema:» «t:checksum»

«k:Source:» «c:https://registry.npmjs.org/mongodb»
«k:Matching-Pattern:» https://registry.npmjs.org/mongodb/-/mongodb-«v:@ANY_VERSION@@ARCHIVE_EXT@»
«k:Search-Mode:» «t:plain»

«k:Component:» bson
«k:Source:» «c:https://registry.npmjs.org/bson»
«k:Matching-Pattern:» https://registry.npmjs.org/bson/-/bson-«v:@ANY_VERSION@@ARCHIVE_EXT@»
«k:Search-Mode:» «t:plain»

«k:Component:» mongodb-core
«k:Source:» «c:https://registry.npmjs.org/mongodb-core»
«k:Matching-Pattern:» https://registry.npmjs.org/mongodb-core/-/mongodb-core-«v:@ANY_VERSION@@ARCHIVE_EXT@»
«k:Search-Mode:» «t:plain»

«k:Component:» requireoptional
«k:Source:» «c:https://registry.npmjs.org/require_optional»
«k:Matching-Pattern:» https://registry.npmjs.org/require_optional/-/require_optional-«v:@ANY_VERSION@@ARCHIVE_EXT@»
«k:Search-Mode:» «t:plain»


«x:# direct access to the git repository (tags)»
«k:Version:» 5

«k:Source:» «c:http://git.ao2.it/tweeper.git»
«k:Matching-Pattern:» refs/tags/v«v:@ANY_VERSION@»
«k:Git-Mode:» «t:full»
«k:Mode:» «t:git»


«x:# direct access to the git repository (HEAD)»
«k:Version:» 5

«k:Source:» «c:https://github.com/Debian/dh-make-golang»
«k:Matching-Pattern:» «t:HEAD»
«k:Mode:» «t:git»


«x:# direct access to the git repository (with submodules)»
«k:Version:» 5

«k:Source:» «c:https://github.com/namespace/project»
«k:Matching-Pattern:» [refs/tags/v«v:@ANY_VERSION@»|HEAD]
«k:Git-Mode:» «t:shallow»
«k:Git-Modules:» «t:all»
«k:Mode:» «t:git»

«x:#»
«k:Version:» 5
«k:Source:» «c:https://github.com/namespace/project»
«k:Matching-Pattern:» [refs/tags/v«v:@ANY_VERSION@»|HEAD]
«k:Git-Mode:» «t:shallow»
«k:Git-Modules:» m4;doc/common
«k:Mode:» «t:git»


«x:# direct access to the Subversion repository (tags)»
«k:Version:» 5

«k:Source:» «c:svn://svn.code.sf.net/p/jmol/code/tags/»
«k:Matching-Pattern:» «v:@ANY_VERSION@»\/
«k:Mode:» «t:svn»


«x:# direct access to the Subversion repository (HEAD)»
«k:Source:» «c:svn://svn.code.sf.net/p/jmol/code/trunk/»
«k:Matching-Pattern:» «t:HEAD»
«k:Mode:» «t:svn»


«x:# Fossil»
«k:Version:» 5

«k:Source:» «c:http://grammalecte.net:8080/taglist»
«k:Matching-Pattern:» /timeline\?t=«v:@ANY_VERSION@»
«k:Download-Url-Mangle:» s#/timeline\?t=(«v:@ANY_VERSION@»)#/tarball/Grammalecte.tar.gz?r=$1#
«k:Filename-Mangle:» s/timeline\?t=(«v:@ANY_VERSION@»)/«v:@PACKAGE@»-$1.tar.gz/
«k:Search-Mode:» «t:plain»


«x:# Gitlab»
«k:Version:» 5

«k:Template:» «t:Gitlab»
«k:Dist:» «c:https://salsa.debian.org/debian/devscripts»

«x:#»
«k:Version:» 5

«k:Source:» «c:https://salsa.debian.org/debian/devscripts»
«k:Mode:» «t:gitlab»
«k:Matching-Pattern:» «v:@STABLE_VERSION@»
«k:Pgp-Mode:» «t:none»
«k:Filename-Mangle:» s/.*(«v:@ARCHIVE_EXT@»)/«v:@PACKAGE@».tar.gz/


«x:# Examples from uscan-template(5)»

«x:# Github»
«k:Version:» 5

«k:Template:» «t:Github»
«k:Owner:» guimard
«k:Project:» llng-docker
«k:Version-Mangle:» «t:auto»


«x:# Metacpan»
«k:Version:» 5

«k:Template:» «t:Metacpan»
«k:Dist:» MetaCPAN-Client


«x:# Npmregistry»
«k:Version:» 5

«k:Template:» «t:Npmregistry»
«k:Dist:» @lemonldapng/handler

«x:#»
«k:Version:» 5

«k:Source:» «c:https://registry.npmjs.org/@lemonldapng/handler»
«k:Matching-Pattern:» https://registry.npmjs.org/@lemonldapng/handler/-/handler-«v:@ANY_VERSION@@ARCHIVE_EXT@»
«k:Search-Mode:» «t:plain»


«x:# Gitlab»
«k:Version:» 5

«k:Template:» «t:Gitlab»
«k:Dist:» «c:https://salsa.debian.org/debian/devscripts»
